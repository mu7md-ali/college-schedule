/* ==================== FONTS ==================== */
@font-face {
    font-family: 'Explora';
    src: url('explora-v11-latin-regular.woff2') format('woff2');
    font-display: swap;
}
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Cairo:wght@700;900&family=Tajawal:wght@400;500;700;800&display=swap');

/* ==================== DARK THEME VARS ==================== */
:root {
    --bg:        #0a051f;
    --bg2:       #1a0a3e;
    --card:      rgba(26,10,62,0.85);
    --txt:       #f5e6d3;
    --txt2:      #d4c5b0;
    --accent:    #ffd700;
    --purple:    #9370db;
    --green:     #32cd32;
    --orange:    #ff8c00;
    --gold:      #ffd700;
    --border:    rgba(255,215,0,0.15);
    --shadow-b:  0 0 25px rgba(255,215,0,0.3);
    --shadow-p:  0 0 25px rgba(147,112,219,0.3);
    --header-h:  60px;
}

/* ==================== LIGHT THEME VARS - RAMADAN SUNRISE ==================== */
[data-theme="light"] {
    --bg:       #fff8e7;
    --bg2:      #fff3d9;
    --card:     rgba(255,255,255,0.95);
    --txt:      #4a2c0f;
    --txt2:     #6b4423;
    --accent:   #d4af37;
    --purple:   #9370db;
    --green:    #2d8659;
    --orange:   #e67e22;
    --gold:     #d4af37;
    --border:   rgba(212,175,55,0.25);
    --shadow-b: 0 4px 20px rgba(212,175,55,0.25);
    --shadow-p: 0 4px 20px rgba(147,112,219,0.25);
}

/* ==================== RESET ==================== */
*, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }
html { scroll-behavior: smooth; }
body {
    font-family: 'Tajawal','Inter',sans-serif;
    background: var(--bg);
    color: var(--txt);
    overflow-x: hidden;
    transition: background .3s, color .3s;
    -webkit-tap-highlight-color: transparent;
    padding-bottom: env(safe-area-inset-bottom);
    min-height: 100vh;
}

/* ==================== RAMADAN BACKGROUND ==================== */
.binary-background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    overflow: hidden;
    pointer-events: none;
    background: radial-gradient(ellipse at top, rgba(26,10,62,0.6) 0%, rgba(10,5,31,0.4) 50%, rgba(0,0,0,0.2) 100%);
}

.stars {
    position: absolute;
    width: 100%;
    height: 100%;
}

.star {
    position: absolute;
    width: 2px;
    height: 2px;
    background: #ffd700;
    border-radius: 50%;
    box-shadow: 0 0 3px #ffd700;
    animation: twinkle 3s infinite ease-in-out;
}

@keyframes twinkle {
    0%, 100% { opacity: 0.3; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.2); }
}

.crescent {
    position: absolute;
    width: 80px;
    height: 80px;
    border-radius: 50%;
    box-shadow: inset -15px 0 0 0 #ffd700;
    filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.6));
    animation: float 6s ease-in-out infinite;
}

@keyframes float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-20px) rotate(5deg); }
}

.lantern {
    position: absolute;
    animation: swing 4s ease-in-out infinite;
    transform-origin: top center;
}

@keyframes swing {
    0%, 100% { transform: rotate(-5deg); }
    50% { transform: rotate(5deg); }
}

.lantern-rope {
    width: 2px;
    height: 30px;
    background: #8b7355;
    margin: 0 auto 5px;
}

.lantern-body {
    width: 40px;
    height: 50px;
    background: linear-gradient(135deg, #d4af37 0%, #aa8c2e 100%);
    border-radius: 5px 5px 15px 15px;
    position: relative;
    box-shadow: 0 0 20px rgba(212, 175, 55, 0.5);
}

.lantern-light {
    position: absolute;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle, rgba(255, 215, 0, 0.4) 0%, transparent 70%);
    animation: glow 2s ease-in-out infinite;
    border-radius: inherit;
}

@keyframes glow {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 1; }
}

[data-theme="light"] .binary-background {
    background: radial-gradient(ellipse at top, 
        rgba(255,230,180,0.4) 0%, 
        rgba(255,245,220,0.3) 50%, 
        rgba(255,250,240,0.2) 100%);
}

[data-theme="light"] .star {
    background: #d4af37;
    box-shadow: 0 0 4px #d4af37, 0 0 8px rgba(212,175,55,0.3);
}

[data-theme="light"] .crescent {
    box-shadow: inset -15px 0 0 0 #d4af37;
    filter: drop-shadow(0 0 20px rgba(212,175,55,0.5));
}

[data-theme="light"] .lantern-body {
    background: linear-gradient(135deg, #e6b800 0%, #c29d00 100%);
    box-shadow: 0 0 25px rgba(230,184,0,0.6);
}

.binary-column { display: none; }
@keyframes bfall { to { transform: translateY(210vh); } }

/* ==================== TOAST ==================== */
.toast-container {
    position:fixed; top:70px; left:50%; transform:translateX(-50%);
    z-index:9999; display:flex; flex-direction:column; gap:8px;
    width:min(360px, 90vw); pointer-events:none;
}
.toast {
    background: var(--bg2);
    border: 1px solid var(--border);
    padding: 10px 16px;
    border-radius: 10px;
    font-weight: 600;
    font-size: .8rem;
    backdrop-filter: blur(12px);
    display: flex; align-items:center; gap:10px;
    box-shadow: 0 8px 24px rgba(0,0,0,.35);
    animation: tSlide .3s ease, tFade .3s 2.7s forwards;
    pointer-events:auto;
}
.toast.success { border-color:#10b981; color:#10b981; }
.toast.error   { border-color:#ef4444; color:#ef4444; }
.toast.info    { border-color: var(--accent); color: var(--accent); }
@keyframes tSlide { from { opacity:0; transform:translateY(-16px); } to { opacity:1; transform:translateY(0); } }
@keyframes tFade  { to { opacity:0; transform:translateY(-10px); } }

/* ==================== HEADER ==================== */
.header-glass {
    position: sticky; top:0; z-index:200;
    height: var(--header-h);
    background: rgba(8,13,26,.96);
    border-bottom: 1px solid var(--border);
    backdrop-filter: blur(16px);
    transition: all .3s;
}
[data-theme="light"] .header-glass {
    background: #1e40af;
    box-shadow: 0 2px 16px rgba(29,78,216,.3);
    border-bottom-color: rgba(255,255,255,.15);
}
[data-theme="light"] .header-title { color: #ffffff; }
[data-theme="light"] .header-sub   { color: rgba(255,255,255,.65); }
[data-theme="light"] .accent       { color: #93c5fd; }
.header-inner {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 16px;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
}

/* Brand */
.header-brand {
    display: flex; align-items:center; gap:10px;
    flex-shrink: 0;
}
.logo-box {
    position:relative; width:40px; height:40px;
    display:flex; align-items:center; justify-content:center;
    border-radius:10px;
    background: linear-gradient(135deg,rgba(0,212,255,.12),rgba(184,41,221,.12));
    border:1px solid rgba(0,212,255,.3);
    box-shadow: var(--shadow-b);
    text-decoration:none;
    flex-shrink:0;
    transition: transform .3s, box-shadow .3s;
}
.logo-box:hover { transform:scale(1.08); box-shadow:0 0 28px rgba(0,212,255,.45); }
.logo-glow {
    position:absolute; inset:0; border-radius:inherit;
    background: linear-gradient(135deg,var(--accent),var(--purple));
    opacity:.25; filter:blur(8px);
}
.logo-icon { font-size:1.2rem; color:var(--accent); position:relative; z-index:1; }
.header-title {
    font-family:'Inter',sans-serif; font-size:1.05rem; font-weight:900;
    letter-spacing:.02em; line-height:1; color:var(--txt);
    white-space:nowrap;
}
.accent { color: var(--accent); }
.header-sub {
    font-size:.55rem; font-weight:600; letter-spacing:.12em;
    text-transform:uppercase; color: var(--txt2); margin-top:2px;
    white-space:nowrap;
}

/* Nav links */
.header-nav {
    display:flex; align-items:center; gap:6px;
    flex-wrap: nowrap;
}
.hlink {
    display:flex; align-items:center; gap:5px;
    padding:6px 10px; border-radius:8px;
    font-size:.7rem; font-weight:700;
    text-decoration:none; color:var(--txt);
    background:rgba(255,255,255,.05);
    border:1px solid var(--border);
    transition: all .25s; cursor:pointer;
    white-space:nowrap; flex-shrink:0;
}
.hlink:hover { background:rgba(0,212,255,.15); border-color:var(--accent); transform:translateY(-1px); }
.hlink-green { background:rgba(0,255,136,.07); border-color:rgba(0,255,136,.25); color:var(--green); }
.hlink-green:hover { background:rgba(0,255,136,.18); border-color:var(--green); }
.hlink-blue { background:rgba(14,165,233,.07); border-color:rgba(14,165,233,.25); color:#38bdf8; }
.hlink-blue:hover { background:rgba(14,165,233,.18); border-color:#38bdf8; }
[data-theme="light"] .hlink { color:#fff; background:rgba(255,255,255,.15); border-color:rgba(255,255,255,.25); }
[data-theme="light"] .hlink:hover { background:rgba(255,255,255,.28); border-color:rgba(255,255,255,.5); }
[data-theme="light"] .hlink-green { color:#6ee7b7; background:rgba(110,231,183,.15); border-color:rgba(110,231,183,.3); }
[data-theme="light"] .hlink-green:hover { background:rgba(110,231,183,.28); }
[data-theme="light"] .hlink-blue { color:#93c5fd; background:rgba(147,197,253,.15); border-color:rgba(147,197,253,.3); }
[data-theme="light"] .hlink-blue:hover { background:rgba(147,197,253,.28); }

.hlink span { display:none; }
@media (min-width:560px) { .hlink span { display:inline; } }

.theme-btn { width:36px; height:36px; padding:0; justify-content:center; border-radius:50%; }

/* ==================== MAIN WRAP ==================== */
.main-wrap {
    max-width:1400px; margin:0 auto;
    padding: 16px 12px 60px;
    position:relative; z-index:1;
}
@media (min-width:640px) { .main-wrap { padding:24px 20px 80px; } }

/* ==================== NOTICE BOX ==================== */
.notice-box {
    background: var(--card);
    border:1px solid var(--border);
    border-radius:18px;
    padding:28px 20px;
    text-align:center;
    max-width:520px;
    margin:0 auto 24px;
    backdrop-filter:blur(12px);
    animation: fadeUp .6s ease-out;
}
@media (min-width:640px) { .notice-box { padding:40px; } }
.notice-icon {
    width:64px; height:64px; margin:0 auto 18px;
    background:linear-gradient(135deg,rgba(245,158,11,.2),rgba(245,158,11,.05));
    border-radius:50%; display:flex; align-items:center; justify-content:center;
    border:2px solid rgba(245,158,11,.3);
}
.notice-icon i { font-size:2rem; color:#fbbf24; }
.notice-box h3 { font-family:'Inter',sans-serif; font-weight:800; font-size:1.3rem; margin-bottom:12px; }
.notice-box p { color:var(--txt2); margin-bottom:12px; line-height:1.65; font-size:.9rem; }
.notice-list { list-style:none; text-align:left; display:inline-block; margin:14px 0; }
.notice-list li { padding:6px 0; color:var(--txt2); display:flex; align-items:center; gap:8px; font-size:.85rem; }
.notice-list li i { color:#10b981; }
.mt-4 { margin-top:18px; }

/* ==================== CONTROLS AREA ==================== */
.controls-area {
    display:flex; flex-wrap:wrap; gap:10px;
    justify-content:center; align-items:center;
    margin-bottom:20px;
}
@media (min-width:640px)  { .table-card { border-radius:24px; padding:24px; } }
@media (min-width:1024px) { .table-card { padding:36px; } }
.ctrl-btns {
    display:flex; flex-wrap:wrap; gap:6px; justify-content:center;
}

/* ==================== BUTTONS ==================== */
.btn {
    display:inline-flex; align-items:center; gap:5px;
    padding:8px 14px; border-radius:10px;
    font-family:'Tajawal','Inter',sans-serif;
    font-weight:700; font-size:.78rem;
    border:none; cursor:pointer; transition:all .25s;
    white-space:nowrap; position:relative; overflow:hidden;
}
.btn:active { transform:scale(.96); }
.btn:hover { transform:translateY(-2px); box-shadow:0 8px 22px rgba(0,0,0,.25); }
.btn span { display:none; }
@media (min-width:480px) { .btn span { display:inline; } }

.btn-edit   { background:rgba(255,255,255,.1); color:var(--txt); border:1px solid var(--border); }
.btn-edit:hover { background:rgba(0,212,255,.2); border-color:var(--accent); }
.btn-save   { background:#10b981; color:#000; }
.btn-cancel { background:#ef4444; color:#fff; }
.btn-print  { background:linear-gradient(135deg,#fbbf24,#f59e0b); color:#000; }
.btn-a      { background:linear-gradient(135deg,#10b981,#059669); color:#000; }
.btn-b      { background:linear-gradient(135deg,#a78bfa,#7c3aed); color:#fff; }
.btn-back   { background:rgba(255,255,255,.1); color:var(--txt); border:1px solid var(--border); }
.btn-cal    { background:linear-gradient(135deg,#06b6d4,#0891b2); color:#fff; }
.btn-english { background:linear-gradient(135deg,#10b981,#059669); color:#fff; }
.btn-students { background:linear-gradient(135deg,#f59e0b,#d97706); color:#fff; }

/* edit mode highlight */
[contenteditable="true"] {
    outline: 2px solid #10b981;
    background: rgba(16,185,129,.06) !important;
    border-radius: 4px;
    cursor: text;
}
[data-theme="light"] [contenteditable="true"] {
    background: rgba(16,185,129,.1) !important;
}

/* ==================== SELECTS ==================== */
.main-select {
    background:var(--bg2); border:2px solid var(--border);
    border-radius:10px; padding:9px 14px;
    color:var(--txt); font-family:'Tajawal','Inter',sans-serif;
    font-weight:700; font-size:.85rem;
    width:100%; max-width:260px; cursor:pointer;
    transition:all .25s;
}
.main-select:hover, .main-select:focus {
    border-color:var(--accent); outline:none; box-shadow:var(--shadow-b);
}


/* ==================== TABLE CARD ==================== */
.table-card {
    background: linear-gradient(135deg, 
        rgba(255,215,0,0.05) 0%, 
        rgba(147,112,219,0.05) 100%);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid rgba(255,215,0,0.2);
    border-radius: 24px;
    padding: 14px;
    box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255,215,0,0.1),
        0 0 40px rgba(255,215,0,0.1);
    animation: fadeUp .5s ease-out;
    margin-bottom: 20px;
    position: relative;
    overflow: hidden;
}

.table-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, 
        transparent, 
        rgba(255,215,0,0.1), 
        transparent);
    transition: left 0.5s;
}

.table-card:hover::before {
    left: 100%;
}

.tbl-header-row {
    display:flex; flex-wrap:wrap; align-items:center;
    justify-content:space-between; gap:8px; margin-bottom:16px;
}
.section-title {
    font-family:'Inter',sans-serif; font-weight:800;
    font-size:1.4rem; color:var(--txt);
    text-shadow:0 0 24px rgba(0,212,255,.2);
}
@media (min-width:640px)  { .section-title { font-size:2rem; } }
@media (min-width:1024px) { .section-title { font-size:2.6rem; } }

.time-badge {
    background:linear-gradient(135deg,rgba(0,212,255,.15),rgba(0,212,255,.04));
    border:1px solid rgba(0,212,255,.3);
    padding:5px 14px; border-radius:20px;
    font-size:.78rem; font-weight:700; color:var(--accent);
}

/* ==================== SCHEDULE TABLE ==================== */
.tbl-scroll {
    overflow-x:auto; -webkit-overflow-scrolling:touch;
    margin:0 -4px; padding:0 4px;
}
.sched-table {
    width:100%; border-collapse:separate;
    border-spacing:3px; min-width:560px;
}
@media (min-width:640px)  { .sched-table { border-spacing:5px; } }
@media (min-width:1024px) { .sched-table { border-spacing:7px; min-width:0; } }

/* Header cells */
.th-day {
    text-align:left; padding:6px 8px;
    font-size:.6rem; font-weight:800;
    color:var(--txt2); text-transform:uppercase;
    letter-spacing:.1em; width:56px;
}
@media (min-width:640px) { .th-day { width:80px; } }

.th-per {
    background:rgba(0,212,255,.06);
    border:1px solid rgba(0,212,255,.12);
    border-radius:10px; padding:6px 4px;
    text-align:center; transition:background .25s;
}
.th-per:hover { background:rgba(0,212,255,.12); }

.th-brk {
    background:rgba(255,107,0,.07);
    border:1px solid rgba(255,107,0,.2);
    border-radius:10px; padding:6px 4px;
    text-align:center;
}

.pn { font-size:.6rem; font-weight:800; color:var(--accent); margin-bottom:2px; }
@media (min-width:640px) { .pn { font-size:.75rem; } }
.pt { font-size:.45rem; color:var(--txt2); font-weight:600; }
@media (min-width:640px) { .pt { font-size:.6rem; } }
.pd { font-size:.4rem; color:var(--green); font-weight:700; margin-top:1px; }
@media (min-width:640px) { .pd { font-size:.55rem; } }
.pb { font-size:.45rem; font-weight:800; color:var(--orange); }
@media (min-width:640px) { .pb { font-size:.6rem; } }

/* Rows */
.day-row { animation: fadeUp .4s ease-out forwards; opacity:0; }
.day-row:nth-child(1){animation-delay:.05s}
.day-row:nth-child(2){animation-delay:.1s}
.day-row:nth-child(3){animation-delay:.15s}
.day-row:nth-child(4){animation-delay:.2s}
.day-row:nth-child(5){animation-delay:.25s}

/* Day label */
.day-lbl {
    font-size:.6rem; font-weight:800; color:var(--txt2);
    text-transform:uppercase; letter-spacing:.06em;
    padding-right:4px; white-space:nowrap; vertical-align:middle;
}
@media (min-width:640px) { .day-lbl { font-size:.75rem; letter-spacing:.12em; } }

/* Break cell */
.brk-cell {
    min-width:30px; height:72px;
    border-radius:8px; display:flex; flex-direction:column;
    align-items:center; justify-content:center;
    background:rgba(255,107,0,.07); border:1px solid rgba(255,107,0,.22);
    gap:2px;
}
@media (min-width:640px) { .brk-cell { min-width:50px; height:100px; border-radius:12px; } }
.brk-icon { font-size:.8rem; }
@media (min-width:640px) { .brk-icon { font-size:1.1rem; } }
.brk-lbl { font-size:.42rem; font-weight:800; color:var(--orange); letter-spacing:.3px; }
@media (min-width:640px) { .brk-lbl { font-size:.56rem; letter-spacing:.8px; } }
.brk-line { width:14px; height:1px; background:linear-gradient(90deg,transparent,var(--orange),transparent); }
@media (min-width:640px) { .brk-line { width:22px; height:1.5px; } }

/* Schedule cards */
.lec-card, .lab-card {
    min-width:52px; height:72px;
    border-radius:10px;
    display:flex; flex-direction:column;
    align-items:center; justify-content:center;
    padding:4px; text-align:center;
    cursor:pointer; transition:all .25s;
    position:relative; overflow:hidden;
}
@media (min-width:640px)  { .lec-card, .lab-card { min-width:90px; height:100px; border-radius:14px; padding:8px; } }
@media (min-width:1024px) { .lec-card, .lab-card { min-width:130px; height:120px; border-radius:18px; padding:12px; } }

.lec-card {
    background: linear-gradient(135deg, rgba(255,215,0,0.15), rgba(255,215,0,0.05));
    border: 2px solid rgba(255,215,0,0.4);
    box-shadow: 0 4px 15px rgba(255,215,0,0.2), inset 0 1px 0 rgba(255,215,0,0.1);
}
.lec-card:hover { 
    transform: translateY(-3px) scale(1.02); 
    border-color: rgba(255,215,0,0.8); 
    box-shadow: 0 12px 32px rgba(255,215,0,0.4); 
}

.lab-card {
    background: linear-gradient(135deg, rgba(147,112,219,0.15), rgba(147,112,219,0.05));
    border: 2px solid rgba(147,112,219,0.4);
    box-shadow: 0 4px 15px rgba(147,112,219,0.2), inset 0 1px 0 rgba(147,112,219,0.1);
}
.lab-card:hover { 
    transform: translateY(-3px) scale(1.02); 
    border-color: rgba(147,112,219,0.8); 
    box-shadow: 0 12px 32px rgba(147,112,219,0.4); 
}


.free-card {
    min-width:52px; height:72px;
    border-radius:10px;
    display:flex; align-items:center; justify-content:center;
    background:rgba(255,255,255,.025);
    border:1px dashed rgba(255,255,255,.15);
    color:rgba(255,255,255,.3);
    font-size:.65rem; font-weight:800; font-family:'Inter',sans-serif;
    transition:all .25s;
}
@media (min-width:640px)  { .free-card { min-width:90px; height:100px; font-size:.85rem; border-radius:14px; } }
@media (min-width:1024px) { .free-card { min-width:130px; height:120px; font-size:1rem; border-radius:18px; } }
.free-card:hover { background:rgba(0,212,255,.05); border-color:rgba(0,212,255,.35); color:var(--accent); }


/* Card text */
.card-subj {
    font-weight:800; font-size:.5rem; line-height:1.2;
    text-align:center; color:var(--txt); margin-bottom:2px;
}
@media (min-width:640px)  { .card-subj { font-size:.72rem; } }
@media (min-width:1024px) { .card-subj { font-size:.82rem; } }

.card-doc {
    font-size:.42rem; font-weight:600; color:var(--txt2);
    text-align:center; margin-bottom:2px; opacity:.85;
}
@media (min-width:640px)  { .card-doc { font-size:.58rem; } }
@media (min-width:1024px) { .card-doc { font-size:.65rem; } }

.card-room {
    font-family:'Cairo',sans-serif; font-size:.42rem;
    font-weight:700; color:#fff; text-align:center;
    text-shadow:0 0 6px rgba(255,255,255,.25); direction:ltr;
}
@media (min-width:640px)  { .card-room { font-size:.65rem; } }
@media (min-width:1024px) { .card-room { font-size:.75rem; } }


.ai-tag { color:#00ffff !important; font-weight:900; text-shadow:0 0 8px #00ffff, 0 0 16px #00ffff; }

/* ==================== SIGNATURE ==================== */
.sig-row {
    display:flex; flex-wrap:wrap; justify-content:space-between;
    align-items:center; gap:10px;
    margin-top:20px; padding-top:16px;
    border-top:1px solid var(--border);
}
.sig-by {
    font-size:.65rem; font-weight:800; letter-spacing:.3em;
    text-transform:uppercase; color:var(--accent); display:block; margin-bottom:3px;
}
.dev-name {
    font-family:'Explora',cursive; font-size:2rem;
    color:var(--gold); text-shadow:0 0 18px rgba(255,215,0,.3);
}
.dev-name a { color:inherit; text-decoration:none; }
.sig-right { text-align:right; }
.sig-info { font-size:.72rem; font-weight:700; color:var(--txt2); margin-bottom:6px; }
.soc-links { display:flex; gap:8px; justify-content:flex-end; }
.soc-link {
    width:30px; height:30px; border-radius:50%;
    display:flex; align-items:center; justify-content:center;
    background:rgba(255,255,255,.05); color:rgba(255,255,255,.45);
    text-decoration:none; border:1px solid var(--border);
    transition:all .25s; font-size:.75rem;
}
.soc-link:hover { background:rgba(0,212,255,.15); color:var(--accent); border-color:var(--accent); transform:translateY(-2px); }
.soc-link.tg:hover { background:rgba(14,165,233,.15); color:#38bdf8; border-color:#38bdf8; }

/* ==================== GROUP TABLE ==================== */
.grp-scroll { overflow-x:auto; -webkit-overflow-scrolling:touch; }
.grp-table { width:100%; min-width:860px; border-collapse:separate; border-spacing:4px; }
@media (min-width:1280px) { .grp-table { min-width:1200px; border-spacing:7px; } }

.th-sec {
    background:rgba(255,255,255,.04); border:1px solid var(--border);
    border-radius:10px; padding:10px 8px;
    font-family:'Inter',sans-serif; font-size:.78rem; font-weight:800;
    color:var(--txt); text-align:center; min-width:70px;
    position:sticky; left:0; z-index:10;
}
@media (min-width:640px) { .th-sec { font-size:.95rem; padding:16px 14px; min-width:100px; } }

.th-dh {
    background:linear-gradient(135deg,rgba(0,212,255,.12),rgba(0,212,255,.03));
    border:1px solid rgba(0,212,255,.22);
    border-radius:10px; padding:10px 6px;
    font-family:'Inter',sans-serif; font-size:.72rem; font-weight:800;
    color:var(--accent); text-align:center; min-width:140px;
}
@media (min-width:640px) { .th-dh { font-size:.95rem; padding:16px 12px; min-width:180px; } }

.grp-sec-th {
    background:rgba(255,255,255,.04); border:1px solid var(--border);
    border-radius:8px; padding:8px 5px;
    font-family:'Inter',sans-serif; font-size:.7rem; font-weight:800;
    color:var(--txt); text-align:center;
    position:sticky; left:0; z-index:5;
}
.grp-sec-th.gb { background:linear-gradient(135deg,rgba(255,107,0,.12),rgba(255,107,0,.04)); border-color:rgba(255,107,0,.25); color:var(--orange); }
@media (min-width:640px) { .grp-sec-th { font-size:.9rem; padding:14px 12px; } }

.period-cell {
    background:rgba(255,255,255,.02); border:1px dashed rgba(255,255,255,.08);
    border-radius:8px; padding:5px; vertical-align:top; min-width:140px;
}
@media (min-width:640px) { .period-cell { padding:8px; border-radius:12px; min-width:180px; } }

.mini-card {
    background:rgba(0,212,255,.07); border:1px solid rgba(0,212,255,.25);
    border-radius:7px; padding:5px; margin-bottom:3px;
    cursor:pointer; transition:all .2s;
}
.mini-card.lab { background:rgba(184,41,221,.07); border-color:rgba(184,41,221,.25); }
.mini-card:hover { transform:scale(1.02); }

.mini-t   { font-size:.48rem; color:var(--txt2); font-weight:700; margin-bottom:2px; font-family:'Inter',sans-serif; }
.mini-s   { font-size:.62rem; font-weight:800; margin-bottom:2px; color:var(--txt); line-height:1.2; }
.mini-d   { font-size:.48rem; color:var(--txt2); margin-bottom:2px; }
.mini-r   { font-family:'Cairo',sans-serif; font-size:.52rem; font-weight:700; color:#00ffff; direction:ltr; }
@media (min-width:640px) {
    .mini-t { font-size:.62rem; } .mini-s { font-size:.78rem; }
    .mini-d { font-size:.62rem; } .mini-r { font-size:.68rem; }
}

.mini-free {
    background:rgba(255,255,255,.02); border:1px dashed rgba(255,255,255,.12);
    border-radius:6px; padding:4px; margin-bottom:3px;
    text-align:center; color:rgba(255,255,255,.25);
    font-size:.58rem; font-weight:700; font-family:'Inter',sans-serif;
}
@media (min-width:640px) { .mini-free { font-size:.72rem; padding:7px; } }

/* ==================== NOTES SECTION ==================== */
.notes-section {
    background:var(--card); border:1px solid var(--border);
    border-radius:18px; padding:18px 16px;
    margin-bottom:20px;
    animation: fadeUp .5s ease-out;
}
@media (min-width:640px) { .notes-section { padding:24px; } }

.notes-head {
    display:flex; align-items:center; justify-content:space-between;
    margin-bottom:14px;
}
.notes-title {
    font-family:'Inter',sans-serif; font-weight:800;
    font-size:1rem; color:var(--txt); display:flex; align-items:center; gap:8px;
}
.notes-title i { color:var(--accent); }

.btn-clr-notes {
    background:rgba(239,68,68,.1); border:1px solid rgba(239,68,68,.25);
    color:#ef4444; border-radius:8px; padding:6px 12px;
    font-size:.75rem; font-weight:700; cursor:pointer; transition:all .25s;
    display:flex; align-items:center; gap:5px;
}
.btn-clr-notes:hover { background:rgba(239,68,68,.2); border-color:#ef4444; }

.notes-textarea {
    width:100%; min-height:200px; max-height:500px;
    background:rgba(255,255,255,.03); border:1px solid var(--border);
    border-radius:12px; padding:14px;
    color:var(--txt); font-family:'Tajawal','Inter',sans-serif;
    font-size:.95rem; line-height:1.75; resize:vertical;
    transition:border-color .25s, box-shadow .25s;
    direction:auto;
}
.notes-textarea:focus { outline:none; border-color:var(--accent); box-shadow:var(--shadow-b); }
.notes-textarea::placeholder { color:var(--txt2); opacity:.6; font-size:.85rem; }

.notes-footer {
    display:flex; justify-content:space-between; align-items:center;
    margin-top:8px; font-size:.72rem; color:var(--txt2);
}
.notes-saved { color:#10b981; display:flex; align-items:center; gap:4px; opacity:0; transition:opacity .4s; }
.notes-saved.visible { opacity:1; }

/* ==================== DISCLAIMER ==================== */
.disclaimer-box {
    margin-top:10px; padding:13px 18px;
    background:linear-gradient(135deg,rgba(245,158,11,.08),rgba(245,158,11,.03));
    border:1px solid rgba(245,158,11,.22); border-radius:12px; text-align:center;
}
.disclaimer-box p { color:#fbbf24; font-size:.78rem; line-height:1.6; }

/* ==================== MODALS ==================== */
.modal {
    position:fixed; inset:0; background:rgba(0,0,0,.75);
    backdrop-filter:blur(8px); z-index:1000;
    display:flex; justify-content:center; align-items:center; padding:10px;
}
.modal-content {
    background:var(--bg2); border:1px solid var(--border);
    border-radius:18px; width:100%; max-width:94vw;
    max-height:90vh; overflow:hidden;
    box-shadow:0 20px 60px rgba(0,0,0,.7);
    animation: fadeUp .3s ease-out;
}
.cal-modal { max-width:860px; }

.modal-header {
    display:flex; justify-content:space-between; align-items:center;
    padding:14px 18px; border-bottom:1px solid var(--border);
    background:linear-gradient(135deg,rgba(0,212,255,.08),rgba(184,41,221,.08));
}
.modal-title {
    font-family:'Inter',sans-serif; font-size:.95rem; font-weight:800;
    color:var(--txt); display:flex; align-items:center; gap:8px;
}
.modal-title i { color:var(--accent); }
@media (min-width:640px) { .modal-title { font-size:1.2rem; } }
.modal-close {
    background:rgba(255,255,255,.08); border:none; color:var(--txt);
    width:34px; height:34px; border-radius:50%; cursor:pointer;
    transition:all .25s; display:flex; align-items:center; justify-content:center;
}
.modal-close:hover { background:#ef4444; transform:rotate(90deg); }
.modal-body { padding:16px; overflow-y:auto; max-height:calc(90vh - 66px); }

/* Calendar table */
.cal-tbl-wrap { background:var(--bg); border-radius:10px; padding:10px; border:1px solid var(--border); }
.cal-table { width:100%; border-collapse:separate; border-spacing:0 4px; }
.cal-table thead tr { background:linear-gradient(135deg,rgba(0,212,255,.15),rgba(184,41,221,.08)); }
.cal-table th {
    padding:10px 10px; text-align:center;
    font-family:'Inter',sans-serif; font-size:.72rem; font-weight:800;
    color:var(--accent); border-bottom:2px solid rgba(0,212,255,.25);
}
@media (min-width:640px) { .cal-table th { padding:14px; font-size:.82rem; } }
.cal-table tbody tr { background:rgba(255,255,255,.02); transition:all .25s; }
.cal-table tbody tr:hover { background:rgba(0,212,255,.07); }
.cal-table td { padding:9px 10px; border-bottom:1px solid var(--border); font-size:.75rem; }
@media (min-width:640px) { .cal-table td { padding:12px; font-size:.88rem; } }
.cal-table td:first-child {
    font-weight:800; color:var(--accent); text-align:center;
    font-family:'Inter',sans-serif; background:rgba(0,212,255,.08); border-radius:8px 0 0 8px;
}
.cal-table td:last-child {
    color:var(--green); font-weight:700; text-align:center;
    font-family:'Inter',sans-serif; background:rgba(0,255,136,.06); border-radius:0 8px 8px 0;
}

/* ==================== ANIMATIONS ==================== */
@keyframes fadeUp {
    from { opacity:0; transform:translateY(18px); }
    to   { opacity:1; transform:translateY(0); }
}

/* ==================== HIDDEN ==================== */
.hidden { display:none !important; }

/* ==================== LIGHT MODE â€” ALL OVERRIDES (solid vivid colors) ==================== */
[data-theme="light"] .binary-background { filter:invert(1); opacity:.02; }

/* Select */
[data-theme="light"] .main-select { background:#fff; color:#0c1f3d; border-color:rgba(29,78,216,.3); }

/* Table card */
[data-theme="light"] .table-card { background:#fff; border-color:rgba(29,78,216,.15); box-shadow:0 6px 28px rgba(29,78,216,.12); }

/* Titles */
[data-theme="light"] .section-title { color:#0c1f3d; text-shadow:none; }
[data-theme="light"] .time-badge { background:#dbeafe; border-color:rgba(29,78,216,.4); color:#1d4ed8; }
[data-theme="light"] .day-lbl { color:#1e3a5f; }

/* Period headers */
[data-theme="light"] .th-per { background:#dbeafe; border-color:rgba(29,78,216,.3); }
[data-theme="light"] .pn { color:#1d4ed8; }
[data-theme="light"] .pd { color:#15803d; }
[data-theme="light"] .th-brk { background:#ffedd5; border-color:rgba(194,65,12,.35); }
[data-theme="light"] .pb { color:#c2410c; }

/* Cards */
[data-theme="light"] .lec-card { background:#dbeafe; border-color:#1d4ed8; box-shadow:0 3px 12px rgba(29,78,216,.18); }
[data-theme="light"] .lec-card:hover { background:#bfdbfe; box-shadow:0 10px 28px rgba(29,78,216,.28); }
[data-theme="light"] .lab-card { background:#ede9fe; border-color:#7e22ce; box-shadow:0 3px 12px rgba(126,34,206,.16); }
[data-theme="light"] .lab-card:hover { background:#ddd6fe; box-shadow:0 10px 28px rgba(126,34,206,.24); }
[data-theme="light"] .free-card { background:#f1f5f9; border-color:#94a3b8; color:#64748b; }
[data-theme="light"] .free-card:hover { background:#e2e8f0; border-color:#1d4ed8; color:#1d4ed8; }

/* Card text */
[data-theme="light"] .card-subj { color:#0c1f3d; }
[data-theme="light"] .card-doc  { color:#1e3a5f; }
[data-theme="light"] .card-room { color:#1e3a5f; text-shadow:none; }
[data-theme="light"] .ai-tag    { color:#1d4ed8 !important; text-shadow:none; }

/* Break */
[data-theme="light"] .brk-cell  { background:#ffedd5; border-color:rgba(194,65,12,.4); }
[data-theme="light"] .brk-lbl   { color:#c2410c; }

/* Signature */
[data-theme="light"] .dev-name  { color:#92400e; text-shadow:none; }
[data-theme="light"] .sig-info  { color:#1e3a5f; }
[data-theme="light"] .soc-link  { background:#dbeafe; color:#1d4ed8; border-color:rgba(29,78,216,.3); }

/* Group table */
[data-theme="light"] .th-sec    { background:#eff6ff; border-color:rgba(29,78,216,.25); }
[data-theme="light"] .th-dh     { background:#dbeafe; border-color:rgba(29,78,216,.4); }
[data-theme="light"] .grp-sec-th{ background:#eff6ff; border-color:rgba(29,78,216,.2); }
[data-theme="light"] .period-cell{ background:#f8faff; border-color:rgba(29,78,216,.1); }
[data-theme="light"] .mini-card { background:#dbeafe; border-color:rgba(29,78,216,.3); }
[data-theme="light"] .mini-card.lab{ background:#ede9fe; border-color:rgba(126,34,206,.3); }
[data-theme="light"] .mini-r    { color:#1d4ed8; }
[data-theme="light"] .mini-free { background:#f1f5f9; border-color:#cbd5e1; color:#64748b; }
[data-theme="light"] .mini-s    { color:#0c1f3d; }
[data-theme="light"] .mini-d    { color:#1e3a5f; }
[data-theme="light"] .mini-t    { color:#1e3a5f; }

/* Notes */
[data-theme="light"] .notes-section  { background:#fff; border-color:rgba(29,78,216,.15); box-shadow:0 4px 20px rgba(29,78,216,.1); }
[data-theme="light"] .notes-textarea { background:#f0f7ff; border-color:rgba(29,78,216,.2); color:#0c1f3d; }
[data-theme="light"] .notes-textarea:focus { border-color:#1d4ed8; }
[data-theme="light"] .notes-title { color:#0c1f3d; }
[data-theme="light"] .notes-count { color:#1e3a5f; }

/* Misc */
[data-theme="light"] .notice-box   { background:#fff; border-color:rgba(29,78,216,.15); box-shadow:0 6px 24px rgba(29,78,216,.12); }
[data-theme="light"] .disclaimer-box { background:#fef3c7; border-color:rgba(146,64,14,.3); }
[data-theme="light"] .disclaimer-box p { color:#92400e; }
[data-theme="light"] .modal-content { background:#fff; border-color:rgba(29,78,216,.2); box-shadow:0 16px 40px rgba(29,78,216,.2); }
[data-theme="light"] .cal-tbl-wrap { background:#f0f9ff; }
[data-theme="light"] .cal-table th  { color:#1d4ed8; }
[data-theme="light"] .cal-table td:first-child { background:#dbeafe; color:#1d4ed8; }
[data-theme="light"] .cal-table td:last-child  { background:#dcfce7; color:#15803d; }
[data-theme="light"] .cal-table tbody tr:hover { background:#dbeafe; }
[data-theme="light"] .modal-header { background:linear-gradient(135deg,rgba(29,78,216,.12),rgba(126,34,206,.08)); }

/* ==================== SCROLLBAR ==================== */
.tbl-scroll::-webkit-scrollbar,
.grp-scroll::-webkit-scrollbar { height:5px; }
.tbl-scroll::-webkit-scrollbar-track,
.grp-scroll::-webkit-scrollbar-track { background:transparent; }
.tbl-scroll::-webkit-scrollbar-thumb { background:rgba(0,212,255,.3); border-radius:10px; }
.grp-scroll::-webkit-scrollbar-thumb { background:rgba(0,212,255,.3); border-radius:10px; }
