<!DOCTYPE html>
<html lang="en" dir="ltr" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>CS Shorouk Schedule</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="english-schedule.css">
    <link rel="stylesheet" href="students-names.css">
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Cairo:wght@700;900&family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
</head>
<body>

<div id="binary-bg" class="binary-background"></div>
<div id="toastContainer" class="toast-container"></div>

<!-- HEADER -->
<header class="header-glass">
    <div class="header-inner">
        <div class="header-brand">
            <a href="https://sha.edu.eg/" target="_blank" class="logo-box" title="Shorouk Academy">
                <div class="logo-glow"></div>
                <i class="fas fa-graduation-cap logo-icon"></i>
            </a>
            <div>
                <h1 class="header-title">CS <span class="accent">SHOROUK</span></h1>
                <p class="header-sub">Computer Science Department</p>
            </div>
        </div>
        <nav class="header-nav">
            <a href="https://sha.edu.eg/" target="_blank" class="hlink" title="Academy">
                <i class="fas fa-university"></i><span>Academy</span>
            </a>
            <a href="https://learn.sha.edu.eg/" target="_blank" class="hlink hlink-green" title="E-Learning">
                <i class="fas fa-laptop-code"></i><span>E-Learning</span>
            </a>
            <a href="https://t.me/CS_SHA_4BOT" target="_blank" class="hlink hlink-blue" title="Telegram">
                <i class="fab fa-telegram"></i><span>Telegram</span>
            </a>
            <button onclick="toggleTheme()" class="hlink theme-btn" title="Toggle Theme">
                <i id="themeIcon" class="fas fa-moon"></i>
            </button>
        </nav>
    </div>
</header>

<main class="main-wrap">

    <!-- Landing Notice -->
    <div id="noticeBox" class="notice-box">
        <div class="notice-icon"><i class="fas fa-graduation-cap"></i></div>
        <h3>CS Shorouk Schedule</h3>
        <p><strong>Welcome!</strong> Select your section below to view your weekly schedule.</p>
        <ul class="notice-list">
            <li><i class="fas fa-check"></i> All data is unofficial – for reference only</li>
            <li><i class="fas fa-check"></i> Please verify with official sources</li>
            <li><i class="fas fa-check"></i> Designed &amp; Developed by Mohamed Ali</li>
        </ul>
        <div class="mt-4">
            <select id="sectionSelect" class="main-select" onchange="changeSection(this.value)">
                <option value="">-- Select Section --</option>
                <option value="1">Section 1</option><option value="2">Section 2</option>
                <option value="3">Section 3</option><option value="4">Section 4</option>
                <option value="5">Section 5</option><option value="6">Section 6</option>
                <option value="7">Section 7</option><option value="8">Section 8</option>
                <option value="9">Section 9</option><option value="10">Section 10</option>
                <option value="11">Section 11</option><option value="12">Section 12</option>
                <option value="13">Section 13</option><option value="14">Section 14</option>
                <option value="15">Section 15</option><option value="16">Section 16</option>
                <option value="17">✏️ Custom Schedule</option>
            </select>
        </div>
    </div>

    <!-- Controls -->
    <div id="controlsArea" class="controls-area hidden">
        <select id="sectionSelectMain" class="main-select" onchange="changeSection(this.value)">
            <option value="">-- Select Section --</option>
            <option value="1">Section 1</option><option value="2">Section 2</option>
            <option value="3">Section 3</option><option value="4">Section 4</option>
            <option value="5">Section 5</option><option value="6">Section 6</option>
            <option value="7">Section 7</option><option value="8">Section 8</option>
            <option value="9">Section 9</option><option value="10">Section 10</option>
            <option value="11">Section 11</option><option value="12">Section 12</option>
            <option value="13">Section 13</option><option value="14">Section 14</option>
            <option value="15">Section 15</option><option value="16">Section 16</option>
            <option value="17">✏️ Custom Schedule</option>
        </select>
        <div class="ctrl-btns">
            <button onclick="showGroupSchedule('A')" id="groupABtn" class="btn btn-a"><i class="fas fa-users"></i><span>Group A</span></button>
            <button onclick="showGroupSchedule('B')" id="groupBBtn" class="btn btn-b"><i class="fas fa-users"></i><span>Group B</span></button>
            <button onclick="printTable()" id="printBtn" class="btn btn-print"><i class="fas fa-print"></i><span>Print / PDF</span></button>
            <button onclick="printGroupTable()" id="printGroupBtn" class="btn btn-print hidden"><i class="fas fa-print"></i><span>Print / PDF</span></button>
            <button onclick="backToSection()" id="backBtn" class="btn btn-back hidden"><i class="fas fa-arrow-left"></i><span>Back</span></button>
            <button onclick="showAcademicCalendar()" class="btn btn-cal"><i class="fas fa-calendar-alt"></i><span>Calendar</span></button>
            <button onclick="openEnglishSchedule()" id="englishBtn" class="btn btn-english hidden"><i class="fas fa-chalkboard-teacher"></i><span>English</span></button>
            <button onclick="openCurrentSectionStudents()" id="sectionStudentsBtn" class="btn btn-students hidden"><i class="fas fa-user-graduate"></i><span>View Students</span></button>
            <!-- Edit buttons — visible only for Section 17 -->
            <button onclick="enableEditing()" id="editBtn" class="btn btn-edit hidden"><i class="fas fa-edit"></i><span>Edit</span></button>
            <button onclick="saveEditing()" id="saveEditBtn" class="btn btn-save hidden"><i class="fas fa-check"></i><span>Save</span></button>
            <button onclick="cancelEditing()" id="cancelEditBtn" class="btn btn-cancel hidden"><i class="fas fa-times"></i><span>Cancel</span></button>
        </div>
    </div>

    <!-- Section View -->
    <div id="sectionView" class="hidden table-card">
        <div id="captureArea">
            <div class="tbl-header-row">
                <h2 id="tableTitle" class="section-title">Section 1</h2>
                <div class="time-badge">9:15 – 2:15</div>
            </div>
            <div class="tbl-scroll">
                <table class="sched-table">
                    <thead>
                        <tr>
                            <th class="th-day">Day</th>
                            <th class="th-per"><div class="pn">1-2</div><div class="pt">9:15-10:25</div><div class="pd">70 min</div></th>
                            <th class="th-per"><div class="pn">3-4</div><div class="pt">10:30-11:40</div><div class="pd">70 min</div></th>
                            <th class="th-brk"><div>☕</div><div class="pb">BREAK</div><div class="pd">10 min</div></th>
                            <th class="th-per"><div class="pn">5-6</div><div class="pt">11:50-1:00</div><div class="pd">70 min</div></th>
                            <th class="th-per"><div class="pn">7-8</div><div class="pt">1:05-2:15</div><div class="pd">70 min</div></th>
                        </tr>
                    </thead>
                    <tbody id="tableBody"></tbody>
                </table>
            </div>
            <div class="sig-row">
                <div>
                    <span class="sig-by">Designed &amp; Developed By</span>
                    <h3 class="dev-name"><a href="https://wa.me/201025114639" target="_blank">Mohamed Ali</a></h3>
                </div>
                <div class="sig-right">
                    <p class="sig-info">Shorouk Academy • CS Dept • 2026</p>
                    <div class="soc-links">
                        <a href="https://sha.edu.eg/" target="_blank" class="soc-link"><i class="fas fa-globe"></i></a>
                        <a href="https://t.me/CS_SHA_4BOT" target="_blank" class="soc-link tg"><i class="fab fa-telegram"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Group View -->
    <div id="groupView" class="hidden table-card">
        <div class="tbl-header-row">
            <h2 id="groupTitle" class="section-title">Group A Schedule</h2>
            <div class="time-badge">All Sections</div>
        </div>
        <div class="grp-scroll">
            <table class="grp-table" id="groupTable">
                <thead>
                    <tr>
                        <th class="th-sec">SECTION</th>
                        <th class="th-dh">SUNDAY</th>
                        <th class="th-dh">MONDAY</th>
                        <th class="th-dh">TUESDAY</th>
                        <th class="th-dh">WEDNESDAY</th>
                        <th class="th-dh">THURSDAY</th>
                    </tr>
                </thead>
                <tbody id="groupTableBody"></tbody>
            </table>
        </div>
        <div class="sig-row">
            <div>
                <span class="sig-by">Designed &amp; Developed By</span>
                <h3 class="dev-name"><a href="https://wa.me/201025114639" target="_blank">Mohamed Ali</a></h3>
            </div>
        </div>
    </div>

    <!-- FREE NOTES SECTION -->
    <div id="notesSection" class="notes-section hidden">
        <div class="notes-head">
            <h3 class="notes-title"><i class="fas fa-sticky-note"></i> My Notes</h3>
            <button onclick="clearAllNotes()" class="btn-clr-notes" title="Clear all notes">
                <i class="fas fa-trash"></i> Clear All
            </button>
        </div>
        <textarea
            id="freeNotesArea"
            class="notes-textarea"
            placeholder="اكتب ملاحظاتك هنا بحرية...&#10;Write your notes freely here...&#10;&#10;• مواعيد الامتحانات&#10;• ملاحظات المحاضرات&#10;• تذكيرات مهمة"
            oninput="autoSaveNotes()"
        ></textarea>
        <div class="notes-footer">
            <span id="notesCount" class="notes-count">0 characters</span>
            <span id="notesSaved" class="notes-saved"><i class="fas fa-check-circle"></i> Saved</span>
        </div>
    </div>

    <!-- Disclaimer -->
    <div class="disclaimer-box">
        <p><i class="fas fa-info-circle"></i> <strong>Disclaimer:</strong> This is NOT an official website. Created as a personal project to help CS students. All data is unofficial and for reference only.</p>
    </div>

</main>

<!-- Academic Calendar Modal -->
<div id="calendarModal" class="modal hidden">
    <div class="modal-content cal-modal">
        <div class="modal-header">
            <h2 class="modal-title"><i class="fas fa-calendar-alt"></i> Academic Calendar 2025-2026</h2>
            <button onclick="closeModal('calendarModal')" class="modal-close"><i class="fas fa-times"></i></button>
        </div>
        <div class="modal-body">
            <div class="cal-tbl-wrap">
                <table class="cal-table">
                    <thead><tr><th>No.</th><th>Description</th><th>Day</th><th>Date</th></tr></thead>
                    <tbody>
                        <tr><td>1</td><td>Start of the First Semester</td><td>Saturday</td><td>20 Sep 2025</td></tr>
                        <tr><td>2</td><td>Start of Midterm Exams (First Semester)</td><td>Sunday</td><td>9 Nov 2025</td></tr>
                        <tr><td>3</td><td>End of Midterm Exams (First Semester)</td><td>Thursday</td><td>13 Nov 2025</td></tr>
                        <tr><td>4</td><td>Start of Final Exams (First Semester)</td><td>Saturday</td><td>03 Jan 2026</td></tr>
                        <tr><td>5</td><td>End of Final Exams (First Semester)</td><td>Thursday</td><td>22 Jan 2026</td></tr>
                        <tr><td>6</td><td>Start of Mid-Year Vacation</td><td>Saturday</td><td>24 Jan 2026</td></tr>
                        <tr><td>7</td><td>End of Mid-Year Vacation</td><td>Thursday</td><td>05 Feb 2026</td></tr>
                        <tr><td>8</td><td>Start of the Second Semester</td><td>Saturday</td><td>7 Feb 2026</td></tr>
                        <tr><td>9</td><td>Start of Midterm Exams (Second Semester)</td><td>Tuesday</td><td>31 Mar 2026</td></tr>
                        <tr><td>10</td><td>End of Midterm Exams (Second Semester)</td><td>Thursday</td><td>9 Apr 2026</td></tr>
                        <tr><td>11</td><td>Start of Final Exams (Second Semester)</td><td>Saturday</td><td>16 May 2026</td></tr>
                        <tr><td>12</td><td>End of Final Exams (Second Semester)</td><td>Thursday</td><td>18 Jun 2026</td></tr>
                        <tr><td>13</td><td>Start of Graduation Project Discussions</td><td>Sunday</td><td>21 Jun 2026</td></tr>
                        <tr><td>14</td><td>End of Graduation Project Discussions</td><td>Thursday</td><td>9 Jul 2026</td></tr>
                        <tr><td>15</td><td>Sending Final Results to Ministry</td><td>Wednesday</td><td>11 Jul 2026</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<script src="script.js"></script>
<script>
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('sw.js').catch(() => {});
    }
    document.addEventListener('DOMContentLoaded', async () => {
        const t = localStorage.getItem('theme') || 'dark';
        document.documentElement.setAttribute('data-theme', t);
        updateThemeIcon(t);
        await loadData();
        const p = new URLSearchParams(window.location.search).get('section');
        if (p && p >= 1 && p <= 16) changeSection(p);
        initBinaryBackground();
        const n = localStorage.getItem('free-notes') || '';
        const ta = document.getElementById('freeNotesArea');
        if (ta) { ta.value = n; updateNotesCount(); }
    });
</script>

<!-- English Schedule Modal -->
<div id="englishScheduleModal" class="english-modal">
    <div class="english-modal-content">
        <div class="english-modal-header">
            <h2><i class="fas fa-chalkboard-teacher"></i> English Schedule</h2>
            <button class="modal-close-btn" onclick="closeEnglishSchedule()"><i class="fas fa-times"></i></button>
        </div>
        <div class="english-modal-body" id="englishScheduleBody"></div>
    </div>
</div>

<!-- Students Names Modal -->
<div id="studentsNamesModal" class="students-modal">
    <div class="students-modal-content">
        <div class="students-modal-header">
            <h2 id="currentSectionTitle"><i class="fas fa-user-graduate"></i> Students Names</h2>
            <button class="modal-close-btn" onclick="closeStudentsNames()"><i class="fas fa-times"></i></button>
        </div>
        <div class="students-modal-body">
            <div class="section-selector" id="sectionButtonsContainer"></div>
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="studentsSearchInput" placeholder="Search students..." oninput="filterStudents()">
            </div>
            <div class="student-count" id="studentCount">Select a section</div>
            <div class="students-table-wrapper">
                <table class="students-table">
                    <thead>
                        <tr><th>#</th><th>Student Name</th></tr>
                    </thead>
                    <tbody id="studentsTableBody"></tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<script src="english-schedule.js"></script>
<script src="students-names.js"></script>
</body>
</html>
