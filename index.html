<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฌุฏูู ูููุฉ ุงูุญุงุณุจุงุช - ุฌุงูุนุฉ ุงูุดุฑูู</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
    
    <!-- html2canvas -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
    <!-- ุฎูููุฉ ุงููุตูููุฉ -->
    <div class="matrix-bg"></div>
    
    <!-- ุฅุดุนุงุฑุงุช -->
    <div id="toast" class="toast"></div>

    <!-- ุงูููุฏุฑ -->
    <header>
        <div class="container">
            <div class="logo">
                <i class="fas fa-university"></i>
                <h1>CS <span>SHOROUK</span></h1>
            </div>
            <button class="ai-toggle-btn" onclick="toggleAI()">
                <i class="fas fa-robot"></i>
                <span>ุงููููุงู</span>
            </button>
        </div>
    </header>

    <!-- ุงููุณุงุนุฏ ุงูุฐูู -->
    <div class="ai-assistant collapsed" id="aiAssistant">
        <div class="ai-header" onclick="toggleAI()">
            <i class="fas fa-robot"></i>
            <h3>ุงููููุงู</h3>
            <i class="fas fa-chevron-down"></i>
        </div>
        <div class="ai-body">
            <div class="ai-messages" id="aiMessages">
                <div class="message bot">
                    <p>ุฃููุงู ุจูู ูุง ุจุงุดุง! ๐ค</p>
                    <p>ุฃูุง ุงููููุงูุ ุฐูุงุก ุงุตุทูุงุนู ููุณุงุนุฏุฉ ุทูุงุจ ูููุฉ ุงูุญุงุณุจุงุช - ุฌุงูุนุฉ ุงูุดุฑูู</p>
                    <p>ุงุณุฃููู ุนู ุฃู ุญุงุฌุฉ:</p>
                    <p>โข ุงูุฃูุณุงู ูุงูููุงุฏ<br>โข ุงูุฏูุงุชุฑุฉ<br>โข ููุงุนูุฏ ุงููุญุงุถุฑุงุช<br>โข ุงูุชูููู ุงูุฏุฑุงุณู</p>
                </div>
            </div>
            <div class="ai-input-area">
                <input type="text" id="aiInput" placeholder="ุงูุชุจ ุณุคุงูู ููุง...">
                <button onclick="askAI()"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>

    <main class="container">
        <!-- ุดุงุดุฉ ุงุฎุชูุงุฑ ุงููุณู -->
        <div class="welcome-screen" id="welcomeScreen">
            <div class="welcome-card">
                <i class="fas fa-graduation-cap"></i>
                <h2>ุงุฎุชุฑ ุฑูู ุงููุณู</h2>
                <select id="sectionSelect" onchange="changeSection(this.value)">
                    <option value="">-- ุงุฎุชุฑ ุงููุณู --</option>
                    <option value="1">Section 1</option>
                    <option value="2">Section 2</option>
                    <option value="3">Section 3</option>
                    <option value="4">Section 4</option>
                    <option value="5">Section 5</option>
                    <option value="6">Section 6</option>
                    <option value="7">Section 7</option>
                    <option value="8">Section 8</option>
                    <option value="9">Section 9</option>
                    <option value="10">Section 10</option>
                    <option value="11">Section 11</option>
                    <option value="12">Section 12</option>
                    <option value="13">Section 13</option>
                    <option value="14">Section 14</option>
                    <option value="15">Section 15</option>
                    <option value="16">Section 16</option>
                </select>
                
                <div class="features">
                    <div class="feature"><i class="fas fa-users"></i> ุนุฑุถ ุงููุฌููุนุงุช A/B</div>
                    <div class="feature"><i class="fas fa-download"></i> ุญูุธ ุงูุตูุฑ</div>
                    <div class="feature"><i class="fas fa-robot"></i> ูุณุงุนุฏ ุฐูู</div>
                </div>
            </div>
        </div>

        <!-- ุนูุงุตุฑ ุงูุชุญูู (ุชุธูุฑ ุจุนุฏ ุงุฎุชูุงุฑ ุงููุณู) -->
        <div class="controls hidden" id="controls">
            <select id="sectionSelectMain" onchange="changeSection(this.value)"></select>
            <button class="btn-group-a" onclick="showGroup('A')">ุงููุฌููุนุฉ A</button>
            <button class="btn-group-b" onclick="showGroup('B')">ุงููุฌููุนุฉ B</button>
            <button class="btn-download" onclick="downloadTable()">ุญูุธ ุงูุตูุฑุฉ</button>
            <button class="btn-back hidden" id="backBtn" onclick="backToSection()">ุฑุฌูุน</button>
        </div>

        <!-- ุนุฑุถ ุงูุฌุฏูู -->
        <div class="schedule-view hidden" id="scheduleView">
            <div class="schedule-header">
                <h2 id="sectionTitle">Section 1</h2>
                <div class="time-info">9:15 - 3:45</div>
            </div>
            <div class="table-wrapper" id="tableWrapper">
                <table id="scheduleTable">
                    <thead id="tableHeader"></thead>
                    <tbody id="tableBody"></tbody>
                </table>
            </div>
        </div>

        <!-- ุนุฑุถ ุงููุฌููุนุงุช -->
        <div class="group-view hidden" id="groupView">
            <h2 id="groupTitle">ุงููุฌููุนุฉ A</h2>
            <div class="group-table-wrapper">
                <table id="groupTable"></table>
            </div>
        </div>

        <!-- ุชูููุน ุงููุทูุฑ -->
        <div class="signature">
            <p>ุชุตููู ูุจุฑูุฌุฉ <span>ูุญูุฏ ุนูู</span></p>
            <p class="copyright">ูููุฉ ุงูุญุงุณุจุงุช - ุฌุงูุนุฉ ุงูุดุฑูู 2026</p>
        </div>
    </main>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            await loadData();
            initMatrix();
            
            // ุฅุถุงูุฉ ุฎูุงุฑุงุช ุงููุณู ูููุงุฆูุฉ ุงูุฑุฆูุณูุฉ
            const mainSelect = document.getElementById('sectionSelectMain');
            for (let i = 1; i <= 16; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = `Section ${i}`;
                mainSelect.appendChild(option);
            }
        });
    </script>
</body>
</html>
